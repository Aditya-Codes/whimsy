_ul.missing ng_if: 'item.warnings' do
  _li '{{ warning }}', ng_repeat: 'warning in item.warnings'
end

_pre.report ng_bind_html: 'item | html'

_section ng_if: 'item.comments' do
  _h3.comments! 'Comments'
  _pre.comment ng_bind_html: 'comment | html', 
    ng_repeat: 'comment in item.comments | csplit'
end

_section.new_actions! ng_if: 'item.new_actions.length >= 0' do
  _h3.comments! 'Action Items Captured During the Meeting'
  _span ng_repeat: 'action in item.new_actions' do
    _pre.report '{{ action.text }}'
    _a '[ {{ action.title }} ]', ng_href: '{{ action.link }}#minutes'
  end
end

_section ng_if: 'comment' do
  _h3 'Pending Comment'
  _pre.comment '{{ cflow(comment, initials) }}'
end

_section.minutes! ng_if: 'minutes[item.title]' do
  _h3 'Minutes'
  _pre '{{ minutes[item.title] }}'
end

_ng_template.post_button! do
  _button.btn.btn_primary '{{ post_button_text }}', 
    data_target: '#post-report-form', data_toggle: 'modal'
end

_ng_template.comment_button! do
  _button.btn.btn_primary '{{ comment_label }}', 
    data_target: '#comment-form', data_toggle: 'modal'
end

_ng_template.approve_button! do
  _button.btn.btn_primary '{{ approve_label }}', ng_controller: 'Approve',
    ng_click: 'click()'
end

_ng_template.minute_button! do
  _button.btn.btn_primary '{{ minute_label }}', 
    data_target: '#minute-form', data_toggle: 'modal'
end

_ng_template.vote_button! do
  _button.btn.btn_primary 'vote', 
    data_target: '#vote-form', data_toggle: 'modal'
end

_ng_template.timestamp_button! do
  _button.btn.btn_primary 'timestamp', ng_controller: 'Timestamp',
    ng_click: 'click()'
end

# Include forms
_ng_include src: 'form', ng_repeat: 'form in forms'
