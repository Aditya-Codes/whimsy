This directory has two main subdirectories...

1) "asf" contains the "model", i.e., a set of classes which encapsulate access
   to a number of data sources such as LDAP, ICLAs, auth lists, etc.

2) "www" contains the "view", largely a set of cgi scripts that produce HTML.
   Generally a cgi script is self contained, including all of the CSS,
   scripts, AJAX logic (client and server), SVG images, etc.  A single script
   may also produce a set (subtree) of web pages. 

   Some of the scripts (like the roster tool) are long running servers.  The
   board agenda tool is hosted on github and has its own readme:

  https://github.com/rubys/whimsy-agenda#readme

If you want to run this remotely, the model code makes a few assumptions at the
moment:

1) The ruby code needs to run under ruby 1.9.3 or higher.

2) Make sure that the whimsy-asf gem installed.  If it is not, run

  gem install whimsy-asf

3) current svn checkouts of various repositories are made (or linked to from)
   /home/whimsysvn/svn:

   svn co --depth=files https://svn.apache.org/repos/private/foundation

   You can specify an alternate location for these directories by placing
   a configuration file named `.whimsy` in your home directory.  The format
   for this file is YAML, and an example (be sure to include the dashed
   lines):

     ---
     :svn:
     - /home/rubys/svn/foundation
     - /home/rubys/svn/committers

4) Access to LDAP requires configuration, and a cert.

   a) The model code determines what host and port to connect to by parsing
      either /etc/ldap/ldap.conf or /etc/ldap/ldap.conf for a line that looks
      like the following:
        uri     ldaps://ldap1-us-east.apache.org:636

   b) A TLS_CACERT can be obtained via either of the following commands:

        ruby -r whimsy/asf -e "puts ASF::LDAP.cert"
        openssl s_client -connect ldap1-us-east.apache.org:636 </dev/null

      Copy from BEGIN to END inclusive into the file 
      /etc/ldap/asf-ldap-client.pem.  Point to the file in
      /etc/ldap/ldap.conf with a line like the following:

        TLS_CACERT      /etc/ldap/asf-ldap-client.pem

      N.B. OpenLDAP uses /etc/openldap/ instead of /etc/ldap/ 
      Adjust the paths above as necessary
 
      These above updates can be done for you with the following command:

        sudo ruby -r whimsy/asf -e "ASF::LDAP.configure"

5) Verify that the configuration is correct by running:

   ruby examples/board.rb

   See comments in that file for running the script as a standalone server.

If you would like to understand how the view code works, you can get started
by looking at a few of the Wunderbar demos and README:

  https://github.com/rubys/wunderbar/tree/master/demo
  https://github.com/rubys/wunderbar/blob/master/README.md
